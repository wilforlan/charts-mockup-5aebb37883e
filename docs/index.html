<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>High Charts JS</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

</head>
<body>
  <h2>Amplified Charts</h2>

  <div class="row">
    <div class="col-md-6">
      <div id="chartArea" style="width:100%; height:400px;"></div>
    </div>
    <div class="col-md-5">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Data</h3>
        </div>
        <div class="panel-body">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>
                  No Of Beneficiaries
                </th>
                <th>
                  Loan Amount
                </tr>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  40
                </td>
                <td>
                  10000
                </td>
              </tr>
              <tr>
                <td>
                  30
                </td>
                <td>
                  30000
                </td>
              </tr>
              <tr>
                <td>
                  10
                </td>
                <td>
                  100000
                </td>
              </tr>
              <tr>
                <td>
                  11
                </td>
                <td>
                  300000
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="panel-footer">

        </div>
      </div>
    </div>
    <br>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div id="stockChart" style="width:100%; height:400px;">

      </div>
    </div>

  </div>
  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <!-- <script src="bower_components/highcharts/highcharts.js"></script> -->
  <!-- <script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/stock/modules/exporting.js"></script> -->
  <script type="text/javascript">

  var response =
  [{
    no_of_beneficiaries: 40, loan_amount:10000
  },{
    no_of_beneficiaries: 30, loan_amount:30000
  },{
    no_of_beneficiaries: 10, loan_amount:100000
  },{
    no_of_beneficiaries: 11, loan_amount: 300000
  }]

  let ben_num = [];
  let loan_amount = [];
  for (var i = 0; i < response.length; i++) {
    ben_num.push(response[i].no_of_beneficiaries);
    loan_amount.push(response[i].loan_amount);
  }
  ben_num.sort(function(a, b) {
    return a - b;
  });
  loan_amount.sort(function(a, b) {
    return a - b;
  });
  $(function(){
    var myChart = Highcharts.chart('chartArea', {
      chart: {
        type: 'spline'
      },
      title : {
        text: 'P1 Graph'
      },
      xAxis: {
        title: {
          text: 'Loan Amount'
        },
        categories: loan_amount
      },
      yAxis: {
        title: {
          text: 'No of Beneficiaries'
        }
      },
      series: [{
        type: 'column',
        name: 'Beneficiaries',
        data: ben_num
      }]
    });

  });


  let data =[
  [1264982400000,17, 1233-12],
  [1265068800000,22, 1233-12],
  [1265155200000,21,1233-12],
  [1265241600000,12,1233-12],
  [1265328000000,13,1233-12],
  [1265587200000,7,1233-12],
  [1265673600000,20,1233-12],
  [1265760000000,22,1233-12],
  [1265846400000,29,1233-12],
  [1265932800000,28,1233-12],
  [1266278400000,26,1233-12],
  [1266364800000,22,1233-12],
  [1266451200000,23,1233-12],
  [1266537600000,21,1233-12],
  [1266796800000,2,1233-12],
  [1266883200000,17],
  [1266969600000,15],
  [1267056000000,16],
  [1267142400000,12],
  [1267401600000,11],
  [1267488000000,45],
  [1267574400000,12],
  [1267660800000,23],
  [1267747200000,12],
  [1268006400000,56],
  [1268092800000,3],
  [1268179200000,37],
  [1268265600000,17],
  [1268352000000,15],
  [1268611200000,4],
  [1268697600000,8],
  [1268784000000,12],
  [1268870400000,40],
  [1268956800000,12],
  [1269216000000,20],
  [1269302400000,39],
  [1269388800000,31],
  [1269475200000,30],
  [1269561600000,20],
  [1269820800000,15],
  [1269907200000,5],
  [1269993600000,10]
  ]
    $(function () {

          // Create the chart
          Highcharts.stockChart('stockChart', {
              chart: {
                description: "Chart showing Total Numbers of Registered Beneficiaries in relationship to date Onboarded",
                events: {
                  click: function (event) {
                      console.log(event.point);
                  }
                }
              },

              rangeSelector: {
                  selected: 1
              },

              title: {
                  text: 'P2 Chart: Chart showing Total Numbers of Registered Beneficiaries in relationship to date Onboarded'
              },

              plotOptions: {
              series: {
                cursor: 'pointer',
                point: {events:
                  {click: function()
                    {
                      console.log(this);
                    }
                  }
                }
               }
             },
              series: [{
                  name: 'Number Beneficiaries Onboarded',
                  data: data,
                  tooltip: {
                      valueDecimals: 0
                  }
              }]
          });

  });


    </script>



</body>
</html>
